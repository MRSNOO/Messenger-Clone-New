[{"D:\\ReactAuthFirebase\\react-auth\\src\\components\\chat\\HomePage.js":"1","D:\\ReactAuthFirebase\\react-auth\\src\\actions\\user.actions.js":"2","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\Signup.js":"3","D:\\ReactAuthFirebase\\react-auth\\src\\components\\contexts\\AuthContext.js":"4","D:\\ReactAuthFirebase\\react-auth\\src\\components\\todos\\Todo.js":"5","D:\\ReactAuthFirebase\\react-auth\\src\\index.js":"6","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\Login.js":"7","D:\\ReactAuthFirebase\\react-auth\\src\\components\\chat\\header\\header.js":"8","D:\\ReactAuthFirebase\\react-auth\\src\\components\\todos\\index.js":"9","D:\\ReactAuthFirebase\\react-auth\\src\\services\\firebase.js":"10","D:\\ReactAuthFirebase\\react-auth\\src\\reducers\\index.js":"11","D:\\ReactAuthFirebase\\react-auth\\src\\actions\\constants.js":"12","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\Dashboard.js":"13","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\ForgotPassword.js":"14","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\PrivateRoute.js":"15","D:\\ReactAuthFirebase\\react-auth\\src\\actions\\auth.actions.js":"16","D:\\ReactAuthFirebase\\react-auth\\src\\reducers\\auth.reducer.js":"17","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\UpdateProfile.js":"18","D:\\ReactAuthFirebase\\react-auth\\src\\reducers\\user.reducer.js":"19","D:\\ReactAuthFirebase\\react-auth\\src\\App.js":"20"},{"size":44441,"mtime":1609602109158,"results":"21","hashOfConfig":"22"},{"size":3742,"mtime":1609171936203,"results":"23","hashOfConfig":"22"},{"size":3828,"mtime":1609601133625,"results":"24","hashOfConfig":"22"},{"size":1518,"mtime":1606993657514,"results":"25","hashOfConfig":"22"},{"size":1672,"mtime":1606756586159,"results":"26","hashOfConfig":"22"},{"size":642,"mtime":1607007385669,"results":"27","hashOfConfig":"22"},{"size":2672,"mtime":1609601209167,"results":"28","hashOfConfig":"22"},{"size":2185,"mtime":1609586529268,"results":"29","hashOfConfig":"22"},{"size":1990,"mtime":1606756362572,"results":"30","hashOfConfig":"22"},{"size":650,"mtime":1608648286455,"results":"31","hashOfConfig":"22"},{"size":250,"mtime":1607005912644,"results":"32","hashOfConfig":"22"},{"size":287,"mtime":1608820309398,"results":"33","hashOfConfig":"22"},{"size":14940,"mtime":1609599803229,"results":"34","hashOfConfig":"22"},{"size":1846,"mtime":1609601308152,"results":"35","hashOfConfig":"22"},{"size":654,"mtime":1606708844866,"results":"36","hashOfConfig":"22"},{"size":110,"mtime":1606989467204,"results":"37","hashOfConfig":"22"},{"size":1409,"mtime":1607005468576,"results":"38","hashOfConfig":"22"},{"size":2831,"mtime":1606710527163,"results":"39","hashOfConfig":"22"},{"size":1108,"mtime":1609072174995,"results":"40","hashOfConfig":"22"},{"size":1432,"mtime":1609601627952,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":54,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},"6lfylo",{"filePath":"45","messages":"46","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":32,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"80"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\ReactAuthFirebase\\react-auth\\src\\components\\chat\\HomePage.js",["92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145"],"import React, { useEffect, useState, useRef } from 'react';\r\nimport { Button, Dropdown, DropdownButton } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getRealTimeConversations, getRealTimeUsers, createMessage, getRealTimeConversationsGroups, createMessageGroup } from '../../actions';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport Header from './header/header';\r\nimport Picker from 'emoji-picker-react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { db, storage } from '../../services/firebase';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCoffee, faReply, faSmile, faPaperPlane } from '@fortawesome/free-solid-svg-icons'\r\nimport './HomePage.css';\r\nimport firebase from \"firebase\";\r\nimport emoji from \"emoji-dictionary\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    bottom: \"10%\",\r\n    right: 250,\r\n    width: \"auto\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  root3: {\r\n    flexGrow: 1,\r\n    minWidth: 300,\r\n  },\r\n  modal3: {\r\n    display: 'flex',\r\n    padding: theme.spacing(1),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n\r\n  },\r\n  paper3: {\r\n    width: 500,\r\n    height: 500,\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  modal2: {\r\n    display: 'flex',\r\n    padding: theme.spacing(1),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper2: {\r\n    width: 500,\r\n    height: 500,\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  paper4: {\r\n    width: 500,\r\n    height: 500,\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  paper5: {\r\n    width: \"100%\",\r\n    height: \"70%\",\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  paper6: {\r\n    height: 70,\r\n    width: 150,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    position: \"relative\"\r\n  }\r\n}));\r\n\r\n\r\nconst User = (props) => {\r\n  const [profileImageUrl, setProfileImageUrl] = useState(\"\")\r\n  const [invalidate5, setInvalidate5] = useState(true)\r\n  const { user, onClick, id } = props\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      db.collection(\"users\").doc(id).get().then((doc) => {\r\n        if (doc.data().profileImage) {\r\n          // console.log(doc.data().profileImage)\r\n          setProfileImageUrl(doc.data().profileImage)\r\n        }\r\n      })\r\n      setInvalidate5(false)\r\n    }\r\n  }, [id, invalidate5]);\r\n  return (\r\n    <div onClick={() => onClick(user)} className=\"displayName\">\r\n      <div className=\"displayPic\">\r\n        <img src={profileImageUrl} alt=\"\" />\r\n      </div>\r\n      <div style={{ display: \"flex\", flex: 1, justifyContent: 'space-between', margin: '0 10px' }}>\r\n        <span style={{ fontWeight: 500 }}>{user.firstName} {user.lastName}</span>\r\n        <span className={user.isOnline ? \"onlineStatus\" : \"onlineStatus off\"}>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserGroups = (props) => {\r\n  const { groupImageUrl, group, userGroups, onClick, userDocIds, id } = props\r\n  const [profileImageUrl, setProfileImageUrl] = useState(\"\")\r\n  const [invalidate5, setInvalidate5] = useState(true)\r\n\r\n  return (\r\n    <div onClick={() => onClick(group)} className=\"displayName\">\r\n      <div className=\"displayPic\">\r\n        <img src={groupImageUrl} alt=\"\" />\r\n      </div>\r\n      <div style={{ display: \"flex\", flex: 1, justifyContent: 'space-between', margin: '0 10px' }}>\r\n        <span style={{ fontWeight: 500 }}>{userGroups.conversationName}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nconst HomePage = (props) => {\r\n  const dispatch = useDispatch()\r\n  const { currentUser } = useAuth()\r\n  const [invalidate, setInvalidate] = useState(true)\r\n  const [invalidate2, setInvalidate2] = useState(true)\r\n  const [invalidate4, setInvalidate4] = useState(true)\r\n  const [invalidate5, setInvalidate5] = useState(true)\r\n  const [chatStarted, setChatStarted] = useState(false)\r\n  const [chatUser, setChatUser] = useState('')\r\n  const [message, setMessage] = useState('')\r\n  const [userUid, setUserUid] = useState('')\r\n  const [chosenEmoji, setChosenEmoji] = useState(null);\r\n  const [open, setOpen] = useState(false)\r\n  const [docId, setDocId] = useState() //current User Firebase document id\r\n  const [friendList, setFriendList] = useState([]) //friendlist in client side\r\n  const [newCurrentFriendList, setNewCurrentFriendList] = useState([]) //get all friends from firebase\r\n  const [replyMessage, setReplyMessage] = useState(\"\")\r\n  const [open2, setOpen2] = useState(false) //create new Group\r\n  const [converName, setConverName] = useState(\"\")\r\n  const [friendListName, setFriendListName] = useState([])\r\n  const [tagInput, setTagInput] = useState(\"\")\r\n  const [tags, setTags] = useState([])\r\n  const [tagsId, setTagsId] = useState([docId])\r\n  const [selectedValue, setSelectedValue] = useState(\"\")\r\n  const [groups, setGroups] = useState([])\r\n  const [chatGroup, setChatGroup] = useState(false)\r\n  const [userDocIds, setUserDocIds] = useState([])\r\n  const [currentConversationName, setCurrentConversationName] = useState(\"\")\r\n  const [currentConversationUsernames, setCurrentConversationUsernames] = useState([])\r\n  const [currentGroupId, setCurrentGroupId] = useState(\"\")\r\n  const [profileImageUrl, setProfileImageUrl] = useState(\"\")\r\n  const [invalidate6, setInvalidate6] = useState(true)\r\n  const [open3, setOpen3] = useState(false) //add member to groups\r\n  const [groupInfo, setGroupInfo] = useState([])\r\n  const [invalidate7, setInvalidate7] = useState(false)\r\n  const [open4, setOpen4] = useState(false) //remove member from groups\r\n  const [open5, setOpen5] = useState(false)\r\n  const allInputs = { imgUrl: '' }\r\n  const [imageAsFile, setImageAsFile] = useState('')\r\n  const [imageAsUrl, setImageAsUrl] = useState(allInputs)\r\n  const [groupImageUrl, setGroupProfileImageUrl] = useState(\"\")\r\n  const [invalidate8, setInvalidate8] = useState(true)\r\n  const [open6, setOpen6] = useState(false)\r\n  const [currentMessageEmoji, setCurrentMessageEmoji] = useState(false)\r\n  const [selectedEmoji, setSelectedEmoji] = useState(\"\")\r\n  const [selectedEmojiOnDatabase, setSelectedEmojiOnDatabase] = useState(\"\")\r\n  const [selectedEmojis, setSelectedEmojis] = useState({}) //get the emoji object on database\r\n  const [currentMessageEmojiGroup, setCurrentMessageEmojiGroup] = useState(\"\")\r\n  const [currentKey, setCurrentKey] = useState(\"\")\r\n  const [invalidate9, setInvalidate9] = useState(false)\r\n  const [selectedMember, setSelectedMember] = useState(false)\r\n\r\n  const classes = useStyles()\r\n  const classesModal = useStyles()\r\n\r\n  const messageEl = useRef(null);\r\n  const user = useSelector(state => state.user)\r\n\r\n  function removeDuplicates(array) {\r\n    array.splice(0, array.length, ...(new Set(array)))\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (invalidate2) {\r\n      db.collection(\"users\").where(\"uid\", \"==\", currentUser.uid)\r\n        .onSnapshot((snapShot) => {\r\n          snapShot.docs.map((doc) => setDocId(doc.id))\r\n          setInvalidate2(false)\r\n        })\r\n    }\r\n  }, [invalidate2]);\r\n\r\n  useEffect(() => {\r\n    if (docId) {\r\n      db.collection(\"users\").doc(docId).get().then((doc) => {\r\n        if (doc.data().friendList) {\r\n          setFriendList(doc.data().friendList)\r\n        }\r\n      })\r\n      setInvalidate4(false)\r\n    }\r\n  }, [docId, invalidate4]);\r\n\r\n  useEffect(() => {\r\n    let newFriendLists = []\r\n    let newFriendListName = []\r\n    db.collection(\"users\").get().then((data) => {\r\n      data.docs.map((doc) => {\r\n        if (friendList.includes(doc.id)) {\r\n          newFriendLists.push({ id: doc.id, data: doc.data() })\r\n          newFriendListName.push(`${doc.data().firstName + doc.data().lastName}`)\r\n        }\r\n      })\r\n      setNewCurrentFriendList(newFriendLists)\r\n      setFriendListName(newFriendListName)\r\n    })\r\n  }, [friendList]);\r\n\r\n  useEffect(() => {\r\n    if (messageEl) {\r\n      messageEl.current.addEventListener('DOMNodeInserted', event => {\r\n        const { currentTarget: target } = event;\r\n        target.scroll({ top: target.scrollHeight, behavior: 'smooth' });\r\n      });\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (invalidate) {\r\n      dispatch(getRealTimeUsers(currentUser.uid))\r\n        .then((unsubscribe) => {\r\n          setInvalidate(false)\r\n          return unsubscribe\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }, [invalidate]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"groups\").onSnapshot((data) => {\r\n      setGroups(data.docs.map((doc) => ({ id: doc.id, data: doc.data() })))\r\n    })\r\n    setInvalidate5(false)\r\n  }, [invalidate5]);\r\n\r\n  useEffect(() => {\r\n    if (docId && invalidate6) {\r\n      db.collection(\"users\").doc(docId).get().then((doc) => {\r\n        if (doc.data().profileImage) {\r\n          // console.log(doc.data().profileImage)\r\n          setProfileImageUrl(doc.data().profileImage)\r\n        }\r\n      })\r\n      setInvalidate6(false)\r\n    }\r\n  }, [docId, invalidate6]);\r\n\r\n  useEffect(() => {\r\n    removeDuplicates(groups)\r\n  }, [groups])\r\n\r\n  useEffect(() => {\r\n    if (currentGroupId) {\r\n      db.collection(\"groups\").doc(currentGroupId).get().then((doc) => {\r\n        if (doc.data().groupImage) {\r\n          setGroupProfileImageUrl(doc.data().groupImage)\r\n        }\r\n      })\r\n      setInvalidate8(false)\r\n    }\r\n  }, [currentGroupId, invalidate8, imageAsUrl]);\r\n\r\n  const initChat = (user) => {\r\n    setChatStarted(true)\r\n    setChatGroup(false)\r\n    setChatUser(`${user.firstName} ${user.lastName}`)\r\n    setUserUid(user.uid)\r\n    dispatch(getRealTimeConversations({ uid_1: currentUser.uid, uid_2: user.uid }))\r\n    console.log(user)\r\n  }\r\n\r\n  const initGroup = (group) => {\r\n    dispatch(getRealTimeConversationsGroups(group.data))\r\n    setCurrentConversationName(group.data.conversationName)\r\n    setCurrentConversationUsernames(group.data.conversationMembers)\r\n    setChatUser(`${group.data.conversationName}: ${group.data.conversationMembers.map((name) => { return name })}`)\r\n    setUserDocIds(group.data.user_uids)\r\n    setCurrentGroupId(group.id)\r\n    setChatStarted(true)\r\n    setChatGroup(true)\r\n  }\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault()\r\n    const messageObject = {\r\n      user_uid_1: currentUser.uid, //dùng uid\r\n      user_uid_2: userUid,\r\n      message: message,\r\n      haveReply: replyMessage ? true : false,\r\n      replyMessage: replyMessage\r\n    }\r\n    if (message) {\r\n      dispatch(createMessage(messageObject))\r\n        .then(() => {\r\n          setMessage('')\r\n        })\r\n    }\r\n    setReplyMessage(\"\")\r\n  }\r\n\r\n  const sendMessageConversation = (e) => {\r\n    e.preventDefault()\r\n    const messageObject = {\r\n      user_uids: userDocIds,\r\n      message: message,\r\n      sender: docId, // dùng docId\r\n      haveReply: replyMessage ? true : false,\r\n      replyMessage: replyMessage,\r\n      conversationName: currentConversationName,\r\n      currentConversationUsernames: currentConversationUsernames,\r\n      profileImage: profileImageUrl,\r\n      senderName: currentUser.displayName\r\n    }\r\n    console.log(messageObject)\r\n    if (message) {\r\n      dispatch(createMessageGroup(messageObject))\r\n        .then(() => {\r\n          setMessage('')\r\n        })\r\n    }\r\n    setReplyMessage(\"\")\r\n  }\r\n\r\n  const handleOnKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !chatGroup) {\r\n      sendMessage(e)\r\n    }\r\n    else if (e.key === 'Enter' && chatGroup) {\r\n      sendMessageConversation(e)\r\n    }\r\n  }\r\n\r\n  const onEmojiClick = (event, emojiObject) => {\r\n    setChosenEmoji(emojiObject);\r\n    setMessage(message + emojiObject.emoji)\r\n  };\r\n\r\n  const handleReplyMess = (id) => {\r\n    console.log(\"reply\")\r\n    db.collection(\"conversations\").doc(id).get().then((doc) => {\r\n      setReplyMessage(doc.data().message)\r\n    })\r\n  }\r\n\r\n  const handleReplyMessGroup = (id) => {\r\n    db.collection(\"conversationsGroup\").doc(id).get().then((doc) => {\r\n      setReplyMessage(doc.data().message)\r\n    })\r\n  }\r\n\r\n  const handleExitReply = () => {\r\n    setReplyMessage(\"\")\r\n  }\r\n\r\n  const handleCreateGroupModal = (e) => {\r\n    e.preventDefault()\r\n    setOpen2(true)\r\n    setConverName(\"\")\r\n    setTagsId([docId])\r\n    setTags([currentUser.displayName])\r\n  }\r\n\r\n  const removeTag = (i) => {\r\n    const newTags = [...tags]\r\n    newTags.splice(i, 1)\r\n    const newTagsData = newCurrentFriendList.filter((friend) => newTags.includes(friend.data.firstName + friend.data.lastName))\r\n    let newTagsId = newTagsData.map((tag) => tag.id)\r\n    if (!newTagsId.includes(docId)) {\r\n      newTagsId.push(docId)\r\n    }\r\n    setTagsId(newTagsId)\r\n    setTags(newTags)\r\n  }\r\n\r\n  const removeTagGroup = (i) => {\r\n    const newTags = [...tags]\r\n    newTags.splice(i, 1)\r\n    const newTagsData = newCurrentFriendList.filter((friend) => newTags.includes(friend.data.firstName + friend.data.lastName))\r\n    let newTagsId = newTagsData.map((tag) => tag.id)\r\n    setTagsId(newTagsId)\r\n    setTags(newTags)\r\n  }\r\n\r\n  const handleSelect = (e) => {\r\n    const val = e.target.value\r\n    if (e.key === \"Enter\" && val && friendListName.includes(val)) {\r\n      if (tags.find(tag => tag.toLowerCase() === val.toLowerCase())) {\r\n        return;\r\n      }\r\n      setTags([...tags, val]);\r\n      const idOfNewMember = newCurrentFriendList.find((friend) => friend.data.firstName + friend.data.lastName === val).id\r\n      if (!tagsId.includes(docId)) {\r\n        setTagsId([...tagsId, docId])\r\n      }\r\n      if (!tagsId.includes(idOfNewMember)) {\r\n        setTagsId([...tagsId, idOfNewMember])\r\n      }\r\n      setTagInput(\"\");\r\n    }\r\n    if (e.key === 'Backspace' && !val) {\r\n      if (tags[tags.length - 1] != currentUser.displayName) {\r\n        removeTag(tags.length - 1);\r\n      }\r\n      //remove id from tagsId\r\n    }\r\n  }\r\n\r\n  const handleSelectFromDataList = (e) => {\r\n    console.log(\"selected\")\r\n    setSelectedMember(true)\r\n  }\r\n\r\n  const createNewConversationGroup = async (e) => {\r\n    if (!tags.includes(currentUser.displayName)) {\r\n      setTags([...tags, currentUser.displayName])\r\n    }\r\n    await db.collection(\"groups\").add({\r\n      user_uids: tagsId,\r\n      conversationName: converName,\r\n      createdAt: new Date(),\r\n      conversationMembers: tags,\r\n      adminGroup: docId\r\n    })\r\n    setOpen2(false)\r\n  }\r\n\r\n  const handleOpenModalAdd = (e) => {\r\n    e.preventDefault()\r\n    setOpen3(true)\r\n    setTagsId([])\r\n    setTags([])\r\n  }\r\n\r\n  const handleOpenModalRemove = (e) => {\r\n    e.preventDefault()\r\n    setOpen4(true)\r\n  }\r\n\r\n  const addMemberToGroups = async (group) => {\r\n    await db.collection(\"groups\").doc(currentGroupId).update({\r\n      conversationMembers: currentConversationUsernames && currentConversationUsernames.concat(tags)\r\n    })\r\n\r\n    await db.collection(\"groups\").doc(currentGroupId).update({\r\n      user_uids: userDocIds && userDocIds.concat(tagsId)\r\n    })\r\n    // await initGroup(group)\r\n    setOpen3(false)\r\n    setInvalidate7(true)\r\n  }\r\n\r\n  const handleRemoveMember = async (member) => {\r\n    console.log(member)\r\n    const idRemoveMember = newCurrentFriendList && newCurrentFriendList.find((friend) => (friend.data.firstName + friend.data.lastName) === member).id\r\n    await db.collection(\"groups\").doc(currentGroupId).update({\r\n      conversationMembers: currentConversationUsernames && currentConversationUsernames.filter((groupUser) => groupUser != member)\r\n    })\r\n\r\n    await db.collection(\"groups\").doc(currentGroupId).update({\r\n      user_uids: userDocIds && userDocIds.filter((userDocId) => userDocId != idRemoveMember)\r\n    })\r\n    setOpen4(false)\r\n  }\r\n\r\n  const handleAddGroupImage = (e) => {\r\n    e.preventDefault()\r\n    setOpen5(true)\r\n  }\r\n\r\n  const handleImageAsFile = (e) => {\r\n    const image = e.target.files[0]\r\n    setImageAsFile(imageAsFile => image)\r\n  }\r\n\r\n  const handleFirebaseUploadGroup = (e) => {\r\n    e.preventDefault()\r\n    console.log(\"Start to upload\")\r\n    if (imageAsFile === '') {\r\n      console.log(`not an image, the image file is type of ${typeof (imageAsFile)}`)\r\n    }\r\n    const uploadTask = storage.ref(`/images/${imageAsFile.name}`).put(imageAsFile)\r\n    uploadTask.on(\"state_changed\", (snapShot) => {\r\n    }, (err) => {\r\n      console.log(err)\r\n    }, () => {\r\n      storage.ref('images').child(imageAsFile.name).getDownloadURL()\r\n        .then(fireBaseUrl => {\r\n          setImageAsUrl(prevObject => ({ ...prevObject, imgUrl: fireBaseUrl }))\r\n          db.collection(\"groups\").doc(currentGroupId).update({\r\n            groupImage: fireBaseUrl\r\n          })\r\n        })\r\n    })\r\n  }\r\n\r\n  const handleShowEmojis = (e, id) => {\r\n    setOpen6(!open6)\r\n    setCurrentMessageEmoji(e.currentTarget.id)\r\n\r\n    if(chatGroup){\r\n      db.collection(\"conversationsGroup\").doc(id).onSnapshot((doc) => {\r\n        if (doc.data().emojiMultiple) {\r\n          console.log(doc.data().emojiMultiple)\r\n          setSelectedEmojis(doc.data().emojiMultiple)\r\n        }\r\n      })  \r\n    }\r\n  }\r\n\r\n  const handleReaction = async (e, id) => {\r\n    e.preventDefault()\r\n    setSelectedEmoji(e.currentTarget.textContent)\r\n    const emojiSelected = e.currentTarget.textContent\r\n    await db.collection(\"conversations\").doc(id).update({\r\n      emojiSingle: emojiSelected == selectedEmojiOnDatabase ? \"\" : emojiSelected\r\n    })\r\n    await db.collection(\"conversations\").doc(id).onSnapshot((doc) => {\r\n      if (doc) {\r\n        setSelectedEmojiOnDatabase(doc.data().emojiSingle)\r\n      }\r\n    })\r\n    setOpen6(false)\r\n  }\r\n\r\n  const handleReactionGroup = async (e, id) => { //id là id conver\r\n    e.preventDefault()\r\n    const emojiSelected = e.currentTarget.textContent\r\n    setCurrentMessageEmojiGroup(id)\r\n    let check = false\r\n    db.collection(\"conversationsGroup\").doc(id).onSnapshot((doc) => {\r\n      if (doc.data().emojiMultiple) {\r\n        console.log(doc.data().emojiMultiple)\r\n        setSelectedEmojis(doc.data().emojiMultiple)\r\n      }\r\n    })  \r\n\r\n    if (!selectedEmojis.hasOwnProperty(emojiSelected)) {\r\n      // setInvalidate9(!invalidate9)\r\n      let newEmojiMultiple2 = Object.assign({}, selectedEmojis)\r\n      Object.keys(newEmojiMultiple2).map(function (key, index) {\r\n        if (newEmojiMultiple2[key].includes(docId)) {\r\n          const newCurrentEmoji = newEmojiMultiple2[key].filter((id) => id != docId)\r\n          newEmojiMultiple2[key] = newCurrentEmoji\r\n        }\r\n      })\r\n\r\n      let newArray = []\r\n      newArray.push(docId)\r\n      newEmojiMultiple2[emojiSelected] = newArray\r\n      await db.collection(\"conversationsGroup\").doc(id).update({\r\n        emojiMultiple: newEmojiMultiple2\r\n      })\r\n    }\r\n    else {\r\n      console.log(\"contained emoji\")\r\n      let newEmojiMultiple = Object.assign({}, selectedEmojis)\r\n\r\n      Object.keys(newEmojiMultiple).map(function (key, index) {\r\n        if (newEmojiMultiple[key].includes(docId)) {\r\n          if(key == emojiSelected){\r\n            check = true\r\n          }\r\n          const newCurrentEmoji = newEmojiMultiple[key].filter((id) => id != docId)\r\n          newEmojiMultiple[key] = newCurrentEmoji\r\n        }\r\n      })\r\n\r\n      console.log(newEmojiMultiple)\r\n      if (!newEmojiMultiple[emojiSelected].includes(docId) && !check) {\r\n        console.log(\"not have yet\")\r\n        newEmojiMultiple[emojiSelected].push(docId)\r\n      }\r\n\r\n      await db.collection(\"conversationsGroup\").doc(id).update({\r\n        emojiMultiple: newEmojiMultiple\r\n      })\r\n    }\r\n    setOpen6(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"containers\">\r\n        <div className=\"listOfUsers\">\r\n          <h3>Conversations</h3>\r\n          <div>\r\n            {\r\n              newCurrentFriendList && newCurrentFriendList.map((user) => {\r\n                return (\r\n                  <User id={user.id} key={user.data.uid} user={user.data} onClick={initChat} />\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n          <h3>Groups</h3>\r\n          <div>\r\n            {\r\n              groups && groups.map((group) => {\r\n                if (group.data.user_uids.includes(docId)) {\r\n                  return (\r\n                    <div>\r\n                      <UserGroups groupImageUrl={group.data.groupImage} group={group} userDocIds={group.data.user_uids} id={group.id} userGroups={group.data} onClick={initGroup} />\r\n                      <div className={classes.root3}>\r\n                        <Modal\r\n                          open={open3}\r\n                          onClose={() => setOpen3(false)}\r\n                          className={classes.modal3}\r\n                        >\r\n                          <div className={classes.paper3}>\r\n                            <h3>Add new members</h3>\r\n                            <div className=\"input-tag\">\r\n                              <ul className=\"input-tag__tags\">\r\n                                {tags.map((tag, i) => (\r\n                                  <li key={tag}>\r\n                                    {tag}\r\n                                    <button type=\"button\" onClick={() => removeTagGroup(i)}>x</button>\r\n                                  </li>\r\n                                ))}\r\n                                <li className=\"input-tag__tags__input\">\r\n                                  <input style={{ width: \"100%\" }} onKeyDown={(e) => handleSelect(e)} list=\"friendlist\" type=\"text\" placeholder=\"Enter new member's name\" value={tagInput} onChange={(e) => setTagInput(e.target.value)} />\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n\r\n                            <datalist\r\n                              id=\"friendlist\"\r\n                              value={selectedValue}\r\n                              // onChange={(e) => handleSelectFromDataList(e)}\r\n                              onChange={(e) => handleSelect(e)}\r\n                              onSelect={(e) => handleSelect(e)}\r\n                            >\r\n                              {friendListName\r\n                                .filter((friend) => friend.toLowerCase().includes(tagInput.toLowerCase()))\r\n                                .filter((friend) => !tags.includes(friend))\r\n                                .map((friend) => {\r\n                                  if (currentConversationUsernames && !currentConversationUsernames.includes(friend)) {\r\n                                    return (\r\n                                      <option onSelect={(e) => setSelectedValue(e.target.value)} value={friend}>{friend}</option>\r\n                                    )\r\n                                  }\r\n                                })\r\n                              }\r\n                            </datalist>\r\n                            <Button styles={{ marginTop: 200 }} onClick={(e) => addMemberToGroups(e, group)}>Add Members to Group</Button>\r\n                          </div>\r\n                        </Modal>\r\n                      </div>\r\n\r\n                      <div className={classes.root3}>\r\n                        <Modal\r\n                          open={open4}\r\n                          onClose={() => setOpen4(false)}\r\n                          className={classes.modal3}\r\n                        >\r\n                          <ul className={classes.paper4}>\r\n                            <h3>Remove members</h3>\r\n                            {currentConversationUsernames && currentConversationUsernames.map((member) => {\r\n                              if (member != currentUser.displayName) {\r\n                                return (\r\n                                  <li style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-around\", marginBottom: 20 }} >\r\n                                    <div>{member}</div>\r\n                                    <Button onClick={() => handleRemoveMember(member)}>Remove</Button>\r\n                                  </li>\r\n                                )\r\n                              }\r\n                            })}\r\n                          </ul>\r\n                        </Modal>\r\n                      </div>\r\n\r\n                      <div className={classes.root3}>\r\n                        <Modal\r\n                          open={open5}\r\n                          onClose={() => setOpen5(false)}\r\n                          className={classes.modal3}\r\n                        >\r\n                          <ul className={classes.paper4}>\r\n                            <h3>Change Group Image</h3>\r\n                            <div>\r\n                              <input type=\"file\" onChange={handleImageAsFile} />\r\n                              <button onClick={handleFirebaseUploadGroup}>Upload</button>\r\n                            </div>\r\n                          </ul>\r\n                        </Modal>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }\r\n              })\r\n            }\r\n          </div>\r\n          <Button onClick={(e) => handleCreateGroupModal(e)} style={{ backgroundColor:\"#446fd1\", height: 50 }}>Create a new group</Button>\r\n\r\n          <div className={classes.root3}>\r\n            <Modal\r\n              open={open2}\r\n              onClose={() => setOpen2(false)}\r\n              className={classes.modal3}\r\n            >\r\n              <div className={classes.paper2}>\r\n                <h3>Create new conversation group </h3>\r\n                <div>\r\n                  <input style={{ width: \"100%\" }} type=\"text\" placeholder=\"Enter conversation's name\" value={converName} onChange={(e) => setConverName(e.target.value)} />\r\n                </div>\r\n                <div className=\"input-tag\">\r\n                  <ul className=\"input-tag__tags\">\r\n                    {tags.map((tag, i) => (\r\n                      <li key={tag}>\r\n                        {tag}\r\n                        <button type=\"button\" onClick={() => removeTag(i)}>x</button>\r\n                      </li>\r\n                    ))}\r\n                    <li className=\"input-tag__tags__input\">\r\n                      <input style={{ width: \"100%\" }} onKeyDown={(e) => handleSelect(e)} list=\"friendlist\" type=\"text\" placeholder=\"Enter new member's name\" value={tagInput} onChange={(e) => setTagInput(e.target.value)} />\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n                <datalist\r\n                  id=\"friendlist\"\r\n                  value={selectedValue}\r\n                  onChange={(e) => handleSelect(e)}\r\n                  onSelect={(e) => handleSelect(e)}\r\n                >\r\n                  {friendListName\r\n                    .filter((friend) => friend.toLowerCase().includes(tagInput.toLowerCase()))\r\n                    .filter((friend) => !tags.includes(friend))\r\n                    .map((friend) => {\r\n                      return (\r\n                        <option value={friend}>{friend}</option>\r\n                      )\r\n                    })\r\n                  }\r\n                </datalist>\r\n                <Button onClick={createNewConversationGroup}>Create</Button>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n        <div className=\"chatArea\">\r\n          <div className=\"chatHeader\">\r\n            {\r\n              chatGroup ?\r\n                chatStarted ?\r\n                  (<div className=\"chatHeaderGroup\">\r\n                    <div style={{width: \"70%\"}}>{chatUser}</div>\r\n                    <div style={{width: \"30%\", display:\"flex\", flexDirection:\"row\", justifyContent:\"space-around\"}}>\r\n                      <Button onClick={handleOpenModalAdd}>Add</Button>\r\n                      <Button onClick={handleOpenModalRemove}>Remove</Button>\r\n                      <Button onClick={handleAddGroupImage}>Change Image</Button>\r\n                    </div>\r\n                  </div>)\r\n                  : \"\"\r\n                : chatStarted ? chatUser : \"\"\r\n            }\r\n          </div>\r\n\r\n          <div className=\"messageSections\" ref={messageEl}>\r\n            {\r\n              (chatStarted && !chatGroup) ?\r\n                user.conversations && user.conversations.map((conver) => {\r\n                  return (\r\n                    <div style={{ textAlign: conver.conver.user_uid_1 == currentUser.uid ? 'right' : \"left\" }}>\r\n                      {\r\n                        conver.conver.user_uid_1 == currentUser.uid ?\r\n                          (<div className=\"maindiv\" style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-end\", zIndex:9999 }}>\r\n                            {(open6 && (currentMessageEmoji && currentMessageEmoji == conver.id)) ? (\r\n                              <div className=\"emojiContainer\">\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(\"heart\")}</div>\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[11])}</div>\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[70])}</div>\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[73])}</div>\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[55])}</div>\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[116])}</div>\r\n                                <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[117])}</div>\r\n                              </div>\r\n                            ) : null}\r\n                            <div>\r\n                              <div className=\"maindiv\" key={conver.id} className=\"messageContainerCurrent\">\r\n                                <div className=\"hide\" id={conver.id} onClick={(e) => handleShowEmojis(e, conver.id)}>{emoji.getUnicode(\"grinning\")}</div>\r\n                                <FontAwesomeIcon className=\"hide\" onClick={() => handleReplyMess(conver.id)} icon={faReply} />\r\n                                <div className={conver.conver.user_uid_1 == currentUser.uid ? \"messageStyle\" : \"messageStyleWhite\"} >\r\n                                  {conver.conver.haveReply ? (\r\n                                    <div className=\"chatReplyMessage\">\r\n                                      {conver.conver.replyMessage}\r\n                                    </div>\r\n                                  ) : null}\r\n                                  {conver.conver.message}\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"emojiMessage\" style={{ position: \"absolute\", right: \"1%\", marginTop: -16 }}>{conver.conver.emojiSingle}</div>\r\n                            </div>\r\n                          </div>\r\n                          )\r\n                          :\r\n                          (\r\n                            <div className=\"maindiv\" style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\", marginBottom: currentMessageEmoji ? 10 : 0 }}>\r\n                              {(open6 && (currentMessageEmoji && currentMessageEmoji == conver.id)) ? (\r\n                                <div className=\"emojiContainer\">\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(\"heart\")}</div>\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[11])}</div>\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[70])}</div>\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[73])}</div>\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[55])}</div>\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[116])}</div>\r\n                                  <div onClick={(e) => handleReaction(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[117])}</div>\r\n                                </div>\r\n                              ) : null}\r\n                              <div>\r\n                                <div className=\"maindiv\" className=\"messageContainer\">\r\n                                  <div className={conver.conver.user_uid_1 == currentUser.uid ? \"messageStyle\" : \"messageStyleWhite\"} >\r\n                                    {conver.conver.haveReply ? (\r\n                                      <div className=\"chatReplyMessage\">\r\n                                        {conver.conver.replyMessage}\r\n                                      </div>\r\n                                    ) : null}\r\n                                    {conver.conver.message}\r\n                                  </div>\r\n                                  <FontAwesomeIcon className=\"hide\" onClick={() => handleReplyMess(conver.id)} icon={faReply} />\r\n                                  <div className=\"hide\" id={conver.id} onClick={(e) => handleShowEmojis(e, conver.id)}>{emoji.getUnicode(\"grinning\")}</div>\r\n                                </div>\r\n                                <div className=\"emojiMessage\" style={{ position: \"absolute\", left: \"1%\", marginTop: -16 }}>{conver.conver.emojiSingle}</div>\r\n                              </div>\r\n                            </div>\r\n                          )\r\n                      }\r\n                    </div>\r\n                  )\r\n                })\r\n                : (\r\n                  user.conversationsGroup && user.conversationsGroup.map((conver) => {\r\n                    return (\r\n                      <div style={{ textAlign: conver.conver.sender == docId ? 'right' : \"left\" }}>\r\n                        {\r\n                          conver.conver.sender == docId ?\r\n                            (<div className=\"maindiv\" style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-end\", zIndex: 9999 }}>\r\n                              {(open6 && (currentMessageEmoji && currentMessageEmoji == conver.id)) ? (\r\n                                <div className=\"emojiContainer\">\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(\"heart\")}</div>\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[11])}</div>\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[70])}</div>\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[73])}</div>\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[55])}</div>\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[116])}</div>\r\n                                  <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[117])}</div>\r\n                                </div>\r\n                              ) : null}\r\n                              <div className=\"messageWrapper\">\r\n                                <div className=\"messageSenderRight\">{conver.conver.senderName}</div>\r\n                                <div className=\"messageContainerCurrent\">\r\n                                  <div className=\"hide\" id={conver.id} onClick={(e) => handleShowEmojis(e, conver.id)}>{emoji.getUnicode(\"grinning\")}</div>\r\n                                  <FontAwesomeIcon className=\"hide\" onClick={() => handleReplyMessGroup(conver.id)} icon={faReply} />\r\n                                  <div className={conver.conver.sender == docId ? \"messageStyle\" : \"messageStyleWhite\"} >\r\n                                    {conver.conver.haveReply ? (\r\n                                      <div className=\"chatReplyMessage\">\r\n                                        {conver.conver.replyMessage}\r\n                                      </div>\r\n                                    ) : null}\r\n                                    {conver.conver.message}\r\n                                  </div>\r\n                                  <div className=\"displayPicSmall\">\r\n                                    <img src={conver.conver.profileImage} alt=\"\" />\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"emojiWrapper\" style={{ display: \"flex\", flexDirection: \"row\", position: \"absolute\", right: \"3%\", marginTop: 70 }}>\r\n                                  {conver.conver.emojiMultiple && Object.keys(conver.conver.emojiMultiple).map(function (key, index) {\r\n                                    return (\r\n                                      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                                        <p>{conver.conver.emojiMultiple[key].length > 0 ? key : \"\"}</p>\r\n                                        <p>{conver.conver.emojiMultiple[key].length > 0 ? conver.conver.emojiMultiple[key].length : \"\"}</p>\r\n                                      </div>\r\n                                    )\r\n                                  })}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            )\r\n                            :\r\n                            (\r\n                              <div className=\"maindiv\" style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\" }}>\r\n                                {(open6 && (currentMessageEmoji && currentMessageEmoji == conver.id)) ? (\r\n                                  <div className=\"emojiContainer\">\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(\"heart\")}</div>\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[11])}</div>\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[70])}</div>\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[73])}</div>\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[55])}</div>\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[116])}</div>\r\n                                    <div onClick={(e) => handleReactionGroup(e, conver.id)} className=\"emoji-li\">{emoji.getUnicode(emoji.names[117])}</div>\r\n                                  </div>\r\n                                ) : null}\r\n                                <div className=\"messageWrapper\">\r\n                                  <div className=\"messageSenderLeft\">{conver.conver.senderName}</div>\r\n                                  <div className=\"messageContainer\">\r\n                                    <div className=\"displayPicSmall\">\r\n                                      <img src={conver.conver.profileImage} alt=\"\" />\r\n                                    </div>\r\n\r\n                                    <div className={conver.conver.sender == docId ? \"messageStyle\" : \"messageStyleWhite\"} >\r\n                                      {conver.conver.haveReply ? (\r\n                                        <div className=\"chatReplyMessage\">\r\n                                          {conver.conver.replyMessage}\r\n                                        </div>\r\n                                      ) : null}\r\n                                      {conver.conver.message}\r\n                                    </div>\r\n                                    <FontAwesomeIcon className=\"hide\" onClick={() => handleReplyMessGroup(conver.id)} icon={faReply} />\r\n                                    <div className=\"hide\" id={conver.id} onClick={(e) => handleShowEmojis(e, conver.id)}>{emoji.getUnicode(\"grinning\")}</div>\r\n                                  </div>\r\n                                  <div className=\"emojiWrapper\" style={{ display: \"flex\", flexDirection: \"row\", position: \"absolute\", left: \"3%\", marginTop: 70 }}>\r\n                                  {conver.conver.emojiMultiple && Object.keys(conver.conver.emojiMultiple).map(function (key, index) {\r\n                                    return (\r\n                                      <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                                        <p>{conver.conver.emojiMultiple[key].length > 0 ? key : \"\"}</p>\r\n                                        <p style={{color: \"#7d7a7a\"}}>{conver.conver.emojiMultiple[key].length > 0 ? conver.conver.emojiMultiple[key].length : \"\"}</p>\r\n                                      </div>\r\n                                    )\r\n                                  })}\r\n                                </div>    \r\n                                </div>\r\n                              </div>\r\n                            )\r\n                        }\r\n                      </div>\r\n                    )\r\n                  })\r\n                )\r\n            }\r\n          </div>\r\n\r\n          {\r\n            chatStarted ?\r\n              <div className=\"chatReply\">\r\n                {replyMessage ?\r\n                  (\r\n                    <div className=\"reply\">\r\n                      <div>\r\n                        <div>\r\n                          <FontAwesomeIcon icon={faReply} />\r\n                      Replying to {chatUser}\r\n                        </div>\r\n                        <span className=\"replyMessage\">{replyMessage}</span>\r\n                      </div>\r\n                      <div onClick={handleExitReply} className=\"exit\">X</div>\r\n                    </div>\r\n                  ) : null\r\n                }\r\n                <div className=\"chatControls\">\r\n                  <input className=\"input\" value={message} onChange={(e) => setMessage(e.target.value)}\r\n                    onKeyDown={handleOnKeyDown}\r\n                    placeholder=\"Write a message\"\r\n                  />\r\n                  <Modal\r\n                    open={open}\r\n                    onClose={() => setOpen(false)}\r\n                  >\r\n                    <div className={classes.paper}>\r\n                      <Picker onEmojiClick={onEmojiClick} />\r\n                    </div>\r\n                  </Modal>\r\n                  <div>\r\n                    <FontAwesomeIcon className=\"icon\" onClick={() => setOpen(true)} icon={faSmile} />\r\n                    <FontAwesomeIcon className=\"icon\" onClick={chatGroup ? sendMessageConversation : sendMessage} icon={faPaperPlane} />\r\n                  </div>\r\n                  {/* <Button className=\"button\" onClick={() => setOpen(true)}>Emo</Button>\r\n                  <Button className=\"button\" onClick={chatGroup ? sendMessageConversation : sendMessage}>Send</Button> */}\r\n                </div>\r\n              </div>\r\n              : null\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","D:\\ReactAuthFirebase\\react-auth\\src\\actions\\user.actions.js",["146","147","148","149","150","151","152","153","154"],"import {userConstants} from \"./constants\";\r\nimport {db} from \"../services/firebase\"\r\n\r\nexport const getRealTimeUsers = (uid) => {\r\n  return async (dispatch) => {\r\n    \r\n    dispatch({type: `${userConstants.GET_REALTIME_USERS}_REQUEST`})\r\n    const unsubscribe = db.collection(\"users\")\r\n    .onSnapshot((snapShot) => {\r\n      const users = []\r\n      snapShot.docs.map((doc) => {\r\n        if(doc.data().uid != uid){\r\n          users.push(doc.data())\r\n        }\r\n      })\r\n      dispatch({\r\n        type: `${userConstants.GET_REALTIME_USERS}_SUCCESS`,\r\n        payload: {users: users}        \r\n      })\r\n    })\r\n    return unsubscribe\r\n  }\r\n}\r\n\r\nexport const createMessage = (messageObject) =>{\r\n  return async (dispatch) => {\r\n    db.collection(\"conversations\").add({\r\n      ...messageObject,\r\n      isView: false,\r\n      createdAt: new Date()\r\n    })\r\n    .then((data) => {\r\n      // console.log(data)\r\n      //success\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n\r\nexport const createMessageGroup = (messageObject) =>{\r\n  return async (dispatch) => {\r\n    db.collection(\"conversationsGroup\").add({\r\n      ...messageObject,\r\n      isView: false,\r\n      createdAt: new Date()\r\n    })\r\n    .then((data) => {\r\n      // console.log(data)\r\n      //success\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n\r\nexport const getRealTimeConversations = (user) =>{\r\n  return async (dispatch) => {\r\n    db.collection(\"conversations\")\r\n    .where('user_uid_1', 'in', [user.uid_1, user.uid_2])\r\n    .orderBy(\"createdAt\", \"asc\")\r\n    .onSnapshot((snapShot) => {\r\n      const conversations = []\r\n      //doc.data() -> vao 1 document\r\n      snapShot.docs.map((doc) => {\r\n        //nếu như conversation của 2 người match, 1 người là ng gửi và ng kia nhận được \r\n        // thì mới push vào conversation\r\n        if((doc.data().user_uid_1 == user.uid_1 && doc.data().user_uid_2 == user.uid_2)\r\n        ||\r\n        (doc.data().user_uid_1 == user.uid_2 && doc.data().user_uid_2 == user.uid_1)){\r\n          conversations.push({id: doc.id, conver: doc.data()})\r\n        }\r\n\r\n        if(conversations.length > 0){\r\n          dispatch({\r\n            type: userConstants.GET_REALTIME_MESSAGES,\r\n            payload: { conversations }\r\n          })\r\n        }\r\n        else{\r\n          dispatch({\r\n            type: `${userConstants.GET_REALTIME_MESSAGES}_FAILURE`,\r\n            payload: { conversations }\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport const getRealTimeConversationsGroups = (userGroups) => {\r\n  return async (dispatch) => {\r\n    db.collection(\"conversationsGroup\")\r\n      .where(\"conversationName\", \"==\", userGroups.conversationName)\r\n      .orderBy(\"createdAt\", \"asc\")\r\n      .onSnapshot((snapShot)=>{\r\n        const conversationsGroup = []\r\n        snapShot.docs.map((doc) => {\r\n          // console.log(doc.data())\r\n          // if(userGroups.user_uids.includes(doc.data().sender)){\r\n            conversationsGroup.push({id: doc.id, conver: doc.data()})\r\n          // }\r\n          if(conversationsGroup.length > 0){\r\n            dispatch({\r\n              type: userConstants.GET_REALTIME_MESSAGES_GROUP,\r\n              payload: { conversationsGroup }\r\n            })\r\n          }\r\n          else{\r\n            dispatch({\r\n              type: `${userConstants.GET_REALTIME_MESSAGES_GROUP}_FAILURE`,\r\n              payload: { conversationsGroup }\r\n            })\r\n          }\r\n        })\r\n        // console.log(userGroups.user_uids)\r\n        // console.log(conversationsGroup)\r\n      })\r\n  }\r\n}\r\n\r\nfunction arrayEquals(a, b) {\r\n  return Array.isArray(a) &&\r\n    Array.isArray(b) &&\r\n    a.length === b.length &&\r\n    a.every((val, index) => val === b[index]);\r\n}","D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\Signup.js",[],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\contexts\\AuthContext.js",["155"],"import React, {useContext, useState, useEffect} from 'react'\r\nimport { auth, db } from \"../../services/firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth(){\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({children}) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const signup = (email, password) => {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  const login = (email, password) => {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  const logout = () => {\r\n    return auth.signOut()\r\n  }\r\n\r\n  const resetPassword = (email) =>{\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  const updateEmail = (email) =>{\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  const updatePassword = (password) =>{\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      // khi nào thấy change in authUser -> notify us\r\n      setCurrentUser(user) \r\n      setLoading(false)\r\n    })\r\n      //only run once\r\n    return unsubscribe\r\n  }, []);\r\n\r\n  const value = {\r\n    currentUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return(\r\n    <AuthContext.Provider value = {value}>\r\n      {!loading && children}\r\n      {/* if we are not loading, we will render the children */}\r\n    </AuthContext.Provider>\r\n  )\r\n}",["156","157"],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\todos\\Todo.js",[],"D:\\ReactAuthFirebase\\react-auth\\src\\index.js",[],["158","159"],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\Login.js",["160","161","162","163"],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\chat\\header\\header.js",["164"],"import React,{useState, useEffect} from 'react';\r\nimport './header.css'\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Alert, Button } from 'react-bootstrap';\r\nimport {db} from \"../../../services/firebase\"\r\n\r\nconst Header = () => {\r\n  const [error, setError] = useState(\"\")\r\n  const {currentUser, logout} = useAuth()\r\n  const history = useHistory()\r\n  \r\n  const [docId, setDocId] = useState()\r\n  const [invalidate, setInvalidate] = useState(true)\r\n  \r\n  useEffect(() => {\r\n    if(invalidate){\r\n      db.collection(\"users\").where(\"uid\", \"==\", currentUser.uid)\r\n      .onSnapshot((snapShot)=>{\r\n        snapShot.docs.map((doc)=>setDocId(doc.id))\r\n        setInvalidate(false)\r\n      })\r\n    }\r\n  }, [invalidate]);\r\n\r\n  useEffect(() => {\r\n      db.collection(\"users\").doc(docId).update({\r\n        isOnline:true\r\n      })\r\n  }, [docId]);\r\n  \r\n  async function handleLogout(e){\r\n    setError('')\r\n\r\n    try{\r\n      await logout()\r\n      .then(() => {\r\n        db.collection(\"users\").doc(docId).update({\r\n          isOnline: false\r\n        })\r\n      })\r\n      await localStorage.clear()\r\n      history.push('/login')\r\n    }\r\n    catch{\r\n      setError(\"Failed to log out\")\r\n    }\r\n  }\r\n  return (\r\n    <header className=\"header\">\r\n        <div style={{display: 'flex'}}>\r\n          <div className=\"logo\">Web Messenger</div>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            {\r\n              !currentUser ? \r\n              <ul className=\"leftMenu\">\r\n                <li><Link to='/login'>Login</Link></li>\r\n                <li><Link to='/signup'>Sign up</Link></li>\r\n              </ul> : null\r\n            }     \r\n        </div>\r\n          <div style={{margin: '20px 0', color: '#fff', fontWeight: 'bold'}}>\r\n            {currentUser ? `Hi ${currentUser.displayName}` : ''}\r\n          </div>\r\n        <ul className=\"menu\">\r\n            {\r\n              currentUser ?\r\n              <li>\r\n                <Button style={{backgroundColor: \"black\"}} onClick={handleLogout}>Logout</Button>\r\n            </li> : null\r\n            } \r\n        </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","D:\\ReactAuthFirebase\\react-auth\\src\\components\\todos\\index.js",[],["165","166"],"D:\\ReactAuthFirebase\\react-auth\\src\\services\\firebase.js",[],["167","168"],"D:\\ReactAuthFirebase\\react-auth\\src\\reducers\\index.js",[],"D:\\ReactAuthFirebase\\react-auth\\src\\actions\\constants.js",[],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\Dashboard.js",["169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200"],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\ForgotPassword.js",["201","202","203"],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\PrivateRoute.js",[],["204","205"],"D:\\ReactAuthFirebase\\react-auth\\src\\actions\\auth.actions.js",["206"],"import {db} from \"../services/firebase\"\r\n\r\nexport const signup = (user) =>{\r\n  return (dispatch) =>{\r\n\r\n  }\r\n}","D:\\ReactAuthFirebase\\react-auth\\src\\reducers\\auth.reducer.js",["207","208"],"D:\\ReactAuthFirebase\\react-auth\\src\\components\\auth\\UpdateProfile.js",["209"],"D:\\ReactAuthFirebase\\react-auth\\src\\reducers\\user.reducer.js",["210","211"],"D:\\ReactAuthFirebase\\react-auth\\src\\App.js",["212","213","214","215","216"],{"ruleId":"217","severity":1,"message":"218","line":2,"column":18,"nodeType":"219","messageId":"220","endLine":2,"endColumn":26},{"ruleId":"217","severity":1,"message":"221","line":2,"column":28,"nodeType":"219","messageId":"220","endLine":2,"endColumn":42},{"ruleId":"217","severity":1,"message":"222","line":12,"column":10,"nodeType":"219","messageId":"220","endLine":12,"endColumn":18},{"ruleId":"217","severity":1,"message":"223","line":14,"column":8,"nodeType":"219","messageId":"220","endLine":14,"endColumn":16},{"ruleId":"217","severity":1,"message":"224","line":123,"column":54,"nodeType":"219","messageId":"220","endLine":123,"endColumn":64},{"ruleId":"217","severity":1,"message":"225","line":123,"column":66,"nodeType":"219","messageId":"220","endLine":123,"endColumn":68},{"ruleId":"217","severity":1,"message":"226","line":124,"column":10,"nodeType":"219","messageId":"220","endLine":124,"endColumn":25},{"ruleId":"217","severity":1,"message":"227","line":124,"column":27,"nodeType":"219","messageId":"220","endLine":124,"endColumn":45},{"ruleId":"217","severity":1,"message":"228","line":125,"column":10,"nodeType":"219","messageId":"220","endLine":125,"endColumn":21},{"ruleId":"217","severity":1,"message":"229","line":125,"column":23,"nodeType":"219","messageId":"220","endLine":125,"endColumn":37},{"ruleId":"217","severity":1,"message":"230","line":151,"column":10,"nodeType":"219","messageId":"220","endLine":151,"endColumn":21},{"ruleId":"217","severity":1,"message":"231","line":173,"column":10,"nodeType":"219","messageId":"220","endLine":173,"endColumn":19},{"ruleId":"217","severity":1,"message":"232","line":173,"column":21,"nodeType":"219","messageId":"220","endLine":173,"endColumn":33},{"ruleId":"217","severity":1,"message":"233","line":174,"column":10,"nodeType":"219","messageId":"220","endLine":174,"endColumn":21},{"ruleId":"217","severity":1,"message":"234","line":180,"column":10,"nodeType":"219","messageId":"220","endLine":180,"endColumn":23},{"ruleId":"217","severity":1,"message":"235","line":184,"column":10,"nodeType":"219","messageId":"220","endLine":184,"endColumn":23},{"ruleId":"217","severity":1,"message":"236","line":187,"column":10,"nodeType":"219","messageId":"220","endLine":187,"endColumn":34},{"ruleId":"217","severity":1,"message":"237","line":188,"column":10,"nodeType":"219","messageId":"220","endLine":188,"endColumn":20},{"ruleId":"217","severity":1,"message":"238","line":188,"column":22,"nodeType":"219","messageId":"220","endLine":188,"endColumn":35},{"ruleId":"217","severity":1,"message":"239","line":189,"column":10,"nodeType":"219","messageId":"220","endLine":189,"endColumn":21},{"ruleId":"217","severity":1,"message":"240","line":189,"column":23,"nodeType":"219","messageId":"220","endLine":189,"endColumn":37},{"ruleId":"217","severity":1,"message":"241","line":190,"column":10,"nodeType":"219","messageId":"220","endLine":190,"endColumn":24},{"ruleId":"217","severity":1,"message":"242","line":193,"column":9,"nodeType":"219","messageId":"220","endLine":193,"endColumn":21},{"ruleId":"243","severity":1,"message":"244","line":210,"column":6,"nodeType":"245","endLine":210,"endColumn":19,"suggestions":"246"},{"ruleId":"247","severity":1,"message":"248","line":227,"column":27,"nodeType":"249","messageId":"250","endLine":227,"endColumn":29},{"ruleId":"243","severity":1,"message":"251","line":258,"column":6,"nodeType":"245","endLine":258,"endColumn":18,"suggestions":"252"},{"ruleId":"253","severity":1,"message":"254","line":432,"column":33,"nodeType":"255","messageId":"256","endLine":432,"endColumn":35},{"ruleId":"217","severity":1,"message":"257","line":439,"column":9,"nodeType":"219","messageId":"220","endLine":439,"endColumn":33},{"ruleId":"253","severity":1,"message":"254","line":487,"column":121,"nodeType":"255","messageId":"256","endLine":487,"endColumn":123},{"ruleId":"253","severity":1,"message":"254","line":491,"column":75,"nodeType":"255","messageId":"256","endLine":491,"endColumn":77},{"ruleId":"253","severity":1,"message":"258","line":546,"column":34,"nodeType":"255","messageId":"256","endLine":546,"endColumn":36},{"ruleId":"247","severity":1,"message":"259","line":571,"column":42,"nodeType":"260","messageId":"250","endLine":571,"endColumn":51},{"ruleId":"253","severity":1,"message":"254","line":573,"column":76,"nodeType":"255","messageId":"256","endLine":573,"endColumn":78},{"ruleId":"247","severity":1,"message":"259","line":589,"column":41,"nodeType":"260","messageId":"250","endLine":589,"endColumn":50},{"ruleId":"253","severity":1,"message":"258","line":591,"column":18,"nodeType":"255","messageId":"256","endLine":591,"endColumn":20},{"ruleId":"253","severity":1,"message":"254","line":594,"column":75,"nodeType":"255","messageId":"256","endLine":594,"endColumn":77},{"ruleId":"247","severity":1,"message":"261","line":630,"column":44,"nodeType":"249","messageId":"262","endLine":630,"endColumn":46},{"ruleId":"247","severity":1,"message":"261","line":667,"column":47,"nodeType":"249","messageId":"262","endLine":667,"endColumn":49},{"ruleId":"247","severity":1,"message":"261","line":689,"column":104,"nodeType":"249","messageId":"262","endLine":689,"endColumn":106},{"ruleId":"253","severity":1,"message":"254","line":690,"column":42,"nodeType":"255","messageId":"256","endLine":690,"endColumn":44},{"ruleId":"253","severity":1,"message":"258","line":795,"column":71,"nodeType":"255","messageId":"256","endLine":795,"endColumn":73},{"ruleId":"253","severity":1,"message":"258","line":797,"column":50,"nodeType":"255","messageId":"256","endLine":797,"endColumn":52},{"ruleId":"253","severity":1,"message":"258","line":799,"column":84,"nodeType":"255","messageId":"256","endLine":799,"endColumn":86},{"ruleId":"263","severity":1,"message":"264","line":811,"column":72,"nodeType":"265","endLine":811,"endColumn":107},{"ruleId":"253","severity":1,"message":"258","line":814,"column":74,"nodeType":"255","messageId":"256","endLine":814,"endColumn":76},{"ruleId":"253","severity":1,"message":"258","line":830,"column":86,"nodeType":"255","messageId":"256","endLine":830,"endColumn":88},{"ruleId":"263","severity":1,"message":"264","line":842,"column":58,"nodeType":"265","endLine":842,"endColumn":86},{"ruleId":"253","severity":1,"message":"258","line":843,"column":76,"nodeType":"255","messageId":"256","endLine":843,"endColumn":78},{"ruleId":"253","severity":1,"message":"258","line":865,"column":69,"nodeType":"255","messageId":"256","endLine":865,"endColumn":71},{"ruleId":"253","severity":1,"message":"258","line":867,"column":48,"nodeType":"255","messageId":"256","endLine":867,"endColumn":50},{"ruleId":"253","severity":1,"message":"258","line":869,"column":86,"nodeType":"255","messageId":"256","endLine":869,"endColumn":88},{"ruleId":"253","severity":1,"message":"258","line":885,"column":72,"nodeType":"255","messageId":"256","endLine":885,"endColumn":74},{"ruleId":"253","severity":1,"message":"258","line":913,"column":88,"nodeType":"255","messageId":"256","endLine":913,"endColumn":90},{"ruleId":"253","severity":1,"message":"258","line":931,"column":74,"nodeType":"255","messageId":"256","endLine":931,"endColumn":76},{"ruleId":"247","severity":1,"message":"248","line":11,"column":31,"nodeType":"249","messageId":"250","endLine":11,"endColumn":33},{"ruleId":"253","severity":1,"message":"254","line":12,"column":27,"nodeType":"255","messageId":"256","endLine":12,"endColumn":29},{"ruleId":"247","severity":1,"message":"248","line":67,"column":31,"nodeType":"249","messageId":"250","endLine":67,"endColumn":33},{"ruleId":"253","severity":1,"message":"258","line":70,"column":35,"nodeType":"255","messageId":"256","endLine":70,"endColumn":37},{"ruleId":"253","severity":1,"message":"258","line":70,"column":74,"nodeType":"255","messageId":"256","endLine":70,"endColumn":76},{"ruleId":"253","severity":1,"message":"258","line":72,"column":32,"nodeType":"255","messageId":"256","endLine":72,"endColumn":34},{"ruleId":"253","severity":1,"message":"258","line":72,"column":71,"nodeType":"255","messageId":"256","endLine":72,"endColumn":73},{"ruleId":"247","severity":1,"message":"248","line":100,"column":33,"nodeType":"249","messageId":"250","endLine":100,"endColumn":35},{"ruleId":"217","severity":1,"message":"266","line":124,"column":10,"nodeType":"219","messageId":"220","endLine":124,"endColumn":21},{"ruleId":"217","severity":1,"message":"267","line":2,"column":16,"nodeType":"219","messageId":"220","endLine":2,"endColumn":18},{"ruleId":"268","replacedBy":"269"},{"ruleId":"270","replacedBy":"271"},{"ruleId":"268","replacedBy":"272"},{"ruleId":"270","replacedBy":"273"},{"ruleId":"217","severity":1,"message":"274","line":1,"column":35,"nodeType":"219","messageId":"220","endLine":1,"endColumn":44},{"ruleId":"217","severity":1,"message":"267","line":5,"column":10,"nodeType":"219","messageId":"220","endLine":5,"endColumn":12},{"ruleId":"217","severity":1,"message":"275","line":10,"column":18,"nodeType":"219","messageId":"220","endLine":10,"endColumn":29},{"ruleId":"217","severity":1,"message":"276","line":13,"column":20,"nodeType":"219","messageId":"220","endLine":13,"endColumn":31},{"ruleId":"243","severity":1,"message":"244","line":24,"column":6,"nodeType":"245","endLine":24,"endColumn":18,"suggestions":"277"},{"ruleId":"268","replacedBy":"278"},{"ruleId":"270","replacedBy":"279"},{"ruleId":"268","replacedBy":"280"},{"ruleId":"270","replacedBy":"281"},{"ruleId":"217","severity":1,"message":"282","line":1,"column":38,"nodeType":"219","messageId":"220","endLine":1,"endColumn":44},{"ruleId":"217","severity":1,"message":"283","line":2,"column":10,"nodeType":"219","messageId":"220","endLine":2,"endColumn":15},{"ruleId":"217","severity":1,"message":"284","line":5,"column":8,"nodeType":"219","messageId":"220","endLine":5,"endColumn":14},{"ruleId":"217","severity":1,"message":"222","line":10,"column":10,"nodeType":"219","messageId":"220","endLine":10,"endColumn":18},{"ruleId":"217","severity":1,"message":"285","line":10,"column":20,"nodeType":"219","messageId":"220","endLine":10,"endColumn":27},{"ruleId":"243","severity":1,"message":"286","line":69,"column":6,"nodeType":"245","endLine":69,"endColumn":8,"suggestions":"287"},{"ruleId":"243","severity":1,"message":"286","line":77,"column":6,"nodeType":"245","endLine":77,"endColumn":8,"suggestions":"288"},{"ruleId":"253","severity":1,"message":"254","line":99,"column":68,"nodeType":"255","messageId":"256","endLine":99,"endColumn":70},{"ruleId":"253","severity":1,"message":"254","line":103,"column":68,"nodeType":"255","messageId":"256","endLine":103,"endColumn":70},{"ruleId":"253","severity":1,"message":"254","line":107,"column":76,"nodeType":"255","messageId":"256","endLine":107,"endColumn":78},{"ruleId":"253","severity":1,"message":"254","line":111,"column":76,"nodeType":"255","messageId":"256","endLine":111,"endColumn":78},{"ruleId":"253","severity":1,"message":"254","line":120,"column":68,"nodeType":"255","messageId":"256","endLine":120,"endColumn":70},{"ruleId":"253","severity":1,"message":"254","line":124,"column":68,"nodeType":"255","messageId":"256","endLine":124,"endColumn":70},{"ruleId":"289","severity":1,"message":"290","line":133,"column":11,"nodeType":"291","endLine":143,"endColumn":15},{"ruleId":"243","severity":1,"message":"292","line":204,"column":6,"nodeType":"245","endLine":204,"endColumn":8,"suggestions":"293"},{"ruleId":"253","severity":1,"message":"254","line":211,"column":56,"nodeType":"255","messageId":"256","endLine":211,"endColumn":58},{"ruleId":"253","severity":1,"message":"254","line":215,"column":56,"nodeType":"255","messageId":"256","endLine":215,"endColumn":58},{"ruleId":"289","severity":1,"message":"290","line":221,"column":7,"nodeType":"291","endLine":228,"endColumn":9},{"ruleId":"217","severity":1,"message":"294","line":240,"column":10,"nodeType":"219","messageId":"220","endLine":240,"endColumn":15},{"ruleId":"217","severity":1,"message":"295","line":245,"column":10,"nodeType":"219","messageId":"220","endLine":245,"endColumn":21},{"ruleId":"217","severity":1,"message":"296","line":246,"column":10,"nodeType":"219","messageId":"220","endLine":246,"endColumn":21},{"ruleId":"217","severity":1,"message":"297","line":246,"column":23,"nodeType":"219","messageId":"220","endLine":246,"endColumn":37},{"ruleId":"217","severity":1,"message":"298","line":250,"column":10,"nodeType":"219","messageId":"220","endLine":250,"endColumn":22},{"ruleId":"217","severity":1,"message":"299","line":250,"column":24,"nodeType":"219","messageId":"220","endLine":250,"endColumn":39},{"ruleId":"243","severity":1,"message":"244","line":290,"column":6,"nodeType":"245","endLine":290,"endColumn":18,"suggestions":"300"},{"ruleId":"247","severity":1,"message":"248","line":302,"column":29,"nodeType":"249","messageId":"250","endLine":302,"endColumn":31},{"ruleId":"253","severity":1,"message":"254","line":303,"column":30,"nodeType":"255","messageId":"256","endLine":303,"endColumn":32},{"ruleId":"253","severity":1,"message":"254","line":306,"column":35,"nodeType":"255","messageId":"256","endLine":306,"endColumn":37},{"ruleId":"243","severity":1,"message":"244","line":315,"column":6,"nodeType":"245","endLine":315,"endColumn":26,"suggestions":"301"},{"ruleId":"253","severity":1,"message":"254","line":321,"column":86,"nodeType":"255","messageId":"256","endLine":321,"endColumn":88},{"ruleId":"289","severity":1,"message":"290","line":389,"column":13,"nodeType":"291","endLine":398,"endColumn":15},{"ruleId":"247","severity":1,"message":"261","line":448,"column":46,"nodeType":"249","messageId":"262","endLine":448,"endColumn":48},{"ruleId":"217","severity":1,"message":"302","line":4,"column":15,"nodeType":"219","messageId":"220","endLine":4,"endColumn":25},{"ruleId":"217","severity":1,"message":"303","line":11,"column":10,"nodeType":"219","messageId":"220","endLine":11,"endColumn":18},{"ruleId":"217","severity":1,"message":"276","line":11,"column":20,"nodeType":"219","messageId":"220","endLine":11,"endColumn":31},{"ruleId":"268","replacedBy":"304"},{"ruleId":"270","replacedBy":"305"},{"ruleId":"217","severity":1,"message":"267","line":1,"column":9,"nodeType":"219","messageId":"220","endLine":1,"endColumn":11},{"ruleId":"306","severity":1,"message":"307","line":12,"column":1,"nodeType":"308","endLine":53,"endColumn":2},{"ruleId":"309","severity":1,"message":"310","line":13,"column":5,"nodeType":"311","messageId":"312","endLine":51,"endColumn":6},{"ruleId":"217","severity":1,"message":"276","line":13,"column":20,"nodeType":"219","messageId":"220","endLine":13,"endColumn":31},{"ruleId":"306","severity":1,"message":"307","line":7,"column":1,"nodeType":"308","endLine":46,"endColumn":2},{"ruleId":"309","severity":1,"message":"310","line":8,"column":3,"nodeType":"311","messageId":"312","endLine":43,"endColumn":4},{"ruleId":"217","severity":1,"message":"313","line":1,"column":17,"nodeType":"219","messageId":"220","endLine":1,"endColumn":25},{"ruleId":"217","severity":1,"message":"314","line":3,"column":9,"nodeType":"219","messageId":"220","endLine":3,"endColumn":18},{"ruleId":"217","severity":1,"message":"315","line":5,"column":10,"nodeType":"219","messageId":"220","endLine":5,"endColumn":16},{"ruleId":"217","severity":1,"message":"316","line":5,"column":33,"nodeType":"219","messageId":"220","endLine":5,"endColumn":41},{"ruleId":"217","severity":1,"message":"284","line":12,"column":8,"nodeType":"219","messageId":"220","endLine":12,"endColumn":14},"no-unused-vars","'Dropdown' is defined but never used.","Identifier","unusedVar","'DropdownButton' is defined but never used.","'faCoffee' is defined but never used.","'firebase' is defined but never used.","'userDocIds' is assigned a value but never used.","'id' is assigned a value but never used.","'profileImageUrl' is assigned a value but never used.","'setProfileImageUrl' is assigned a value but never used.","'invalidate5' is assigned a value but never used.","'setInvalidate5' is assigned a value but never used.","'chosenEmoji' is assigned a value but never used.","'groupInfo' is assigned a value but never used.","'setGroupInfo' is assigned a value but never used.","'invalidate7' is assigned a value but never used.","'groupImageUrl' is assigned a value but never used.","'selectedEmoji' is assigned a value but never used.","'currentMessageEmojiGroup' is assigned a value but never used.","'currentKey' is assigned a value but never used.","'setCurrentKey' is assigned a value but never used.","'invalidate9' is assigned a value but never used.","'setInvalidate9' is assigned a value but never used.","'selectedMember' is assigned a value but never used.","'classesModal' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser.uid'. Either include it or remove the dependency array.","ArrayExpression",["317"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'currentUser.uid' and 'dispatch'. Either include them or remove the dependency array.",["318"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'handleSelectFromDataList' is assigned a value but never used.","Expected '===' and instead saw '=='.","Array.prototype.map() expects a return value from function.","FunctionExpression","Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'arrayEquals' is defined but never used.","'db' is defined but never used.","no-native-reassign",["319"],"no-negated-in-lhs",["320"],["319"],["320"],"'useEffect' is defined but never used.","'currentUser' is assigned a value but never used.","'setVerified' is assigned a value but never used.",["321"],["319"],["320"],["319"],["320"],"'useRef' is defined but never used.","'Alert' is defined but never used.","'Header' is defined but never used.","'faReply' is defined but never used.","React Hook useEffect has a missing dependency: 'docId'. Either include it or remove the dependency array.",["322"],["323"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'friendId'. Either include it or remove the dependency array.",["324"],"'error' is assigned a value but never used.","'invalidate2' is assigned a value but never used.","'invalidate3' is assigned a value but never used.","'setInvalidate3' is assigned a value but never used.","'selectedFile' is assigned a value but never used.","'setSelectedFile' is assigned a value but never used.",["325"],["326"],"'useHistory' is defined but never used.","'verified' is assigned a value but never used.",["319"],["320"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'useState' is defined but never used.","'Container' is defined but never used.","'Router' is defined but never used.","'Redirect' is defined but never used.",{"desc":"327","fix":"328"},{"desc":"329","fix":"330"},"no-global-assign","no-unsafe-negation",{"desc":"331","fix":"332"},{"desc":"333","fix":"334"},{"desc":"333","fix":"335"},{"desc":"336","fix":"337"},{"desc":"331","fix":"338"},{"desc":"339","fix":"340"},"Update the dependencies array to be: [currentUser.uid, invalidate2]",{"range":"341","text":"342"},"Update the dependencies array to be: [currentUser.uid, dispatch, invalidate]",{"range":"343","text":"344"},"Update the dependencies array to be: [currentUser.uid, invalidate]",{"range":"345","text":"346"},"Update the dependencies array to be: [docId]",{"range":"347","text":"348"},{"range":"349","text":"348"},"Update the dependencies array to be: [friendId]",{"range":"350","text":"351"},{"range":"352","text":"346"},"Update the dependencies array to be: [currentUser.uid, listPendingFriends]",{"range":"353","text":"354"},[7777,7790],"[currentUser.uid, invalidate2]",[9123,9135],"[currentUser.uid, dispatch, invalidate]",[769,781],"[currentUser.uid, invalidate]",[2056,2058],"[docId]",[2248,2250],[6321,6323],"[friendId]",[9033,9045],[9799,9819],"[currentUser.uid, listPendingFriends]"]